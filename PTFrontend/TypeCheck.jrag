aspect TypeCheck {

    eq PTDecl.getTypeDecl(int i).lookupType(String packageName, String typeName) {
        String fullName = packageName.equals("") ? typeName : packageName + "." + typeName;
        for (TypeDecl type: getTypeDecls())
            if (type.fullName().equals(fullName))
                return type;
        return null; // TODO should I check other levels here.. 
    }

}
